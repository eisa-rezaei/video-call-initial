{"version":3,"sources":["components/Home/components/ChatPart/Participants/style.js","components/Home/components/ChatPart/Participants/index.js","redux/massages/selectors.js","redux/massages/actions.js","components/Home/components/ChatPart/style.js","components/Home/components/ChatPart/index.jsx","assets/avatars/default.jpeg","components/Home/components/VideoStream/img-7.jpeg","components/Home/components/VideoStream/style.js","components/Home/components/VideoStream/Timer.jsx","components/Home/components/VideoStream/Volume.jsx","components/Home/components/VideoStream/index.jsx","components/Home/style.js","components/Home/index.jsx"],"names":["StHomeParticipantContainer","styled","article","_templateObject","_taggedTemplateLiteral","StHomeParticipants","div","_templateObject2","StHomeParticipant","_templateObject3","StHomeParticipantGroupTitle","_templateObject4","StHomeParticipantUserProfile","_templateObject5","StHomeParticipantUserProfileHead","header","_templateObject6","StHomeParticipantUserProfileName","_templateObject7","StHomeParticipantUserInfo","ul","_templateObject8","StHomeParticipantUserInfoItem","li","_templateObject9","Participants","_ref","id","_useState","useState","_useState2","_slicedToArray","userProfile","setUserProfile","useEffect","user","users","find","item","userId","selectUserHelper","_jsxs","children","_jsx","onClick","MdOutlineChevronLeft","src","userAvatar","alt","bio","userEmail","map","_ref2","isPublisher","selectors","getMassages","store","massages","getIsTypingList","isTypingList","sendMassage","payload","type","ActionTypes","SEND_MSG","isTyping","keyframes","StHomeChatPart","props","isMassage","StHomeChatPartChats","section","StHomeChatPartUserName","p","StHomeChatPartMassage","isUserBefore","isUser","StHomeChatPartMassageText","StHomeChatPartHeader","StHomeChatPartSwitch","StHomeChatPartSendMsg","StHomeChatPartSendMsgIsTyping","_templateObject10","StHomeChatPartSendMsgIsTypingCircle","_templateObject11","StHomeChatPartSendMsgInput","_templateObject12","ws","WebSocket","ChatPart","useSelector","setIsMassage","_useState3","_useState4","massageRef","useRef","dispatch","useDispatch","lastMassageRef","watchProfileHandler","current","scrollIntoView","logMassage","data","myData","JSON","parse","currentUserDetail","content","massage","isCall","Math","floor","random","console","log","addEventListener","removeEventListener","_Fragment","index","_massages","isLastOne","length","ref","isCurrentUser","placeholder","onFocus","SET_IS_TYPING","onBlur","REMOVE_IS_TYPING","value","newMassage","send","stringify","sendMassageHandler","FaTelegramPlane","talkingAnimation","fullScreenMixin","css","normalScreenMixin","StHomeVideoStream","isFullScreenVid","StHomeVideoStreamHeader","StHomeVideoStreamHeaderTeamIcon","StHomeVideoStreamInfoBar","StHomeVideoStreamInfoBarPart","StHomeVideoStreamVideo","concat","bgImage","StHomeVideoStreamStream","video","StHomeVideoPartsHead","StHomeVideoPartsPublisher","StHomeVideoPartsRecord","_templateObject13","StHomeVideoPartsUsersIn","_templateObject14","StHomeVideoPartsControls","_templateObject15","StHomeVideoPartsVolume","_templateObject16","isVolumeBarOpen","StHomeVideoStreamFooter","footer","_templateObject17","StHomeVideoStreamFooterText","_templateObject18","StHomeVideoStreamFooterAnimation","_templateObject19","Timer","min","second","time","setTime","_objectSpread","setTimeout","Volume","setVolume","setIsVolumeBarOpen","onChange","defaultValue","GiSpeaker","VideoStream","setIsFillScreenVid","isRecording","setIsRecording","publisher","streamRef","canvasRef","navigator","mediaDevices","getUserMedia","width","height","audio","then","stream","srcObject","catch","err","volume","setInterval","canvas","videoWidth","videoHeight","getContext","drawImage","toDataURL","getFrame","IoIosPeople","className","MdBookmarkRemove","GoPlusSmall","autoPlay","loop","BsArrowsFullscreen","BsFillMicMuteFill","MdCallEnd","FaVideo","GoGear","e","target","Array","fill","_","hidden","StHomeContainer","Home","token","localStorage","getItem","loggedIn","setLoggedIn","Navigate","replace","to"],"mappings":"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","file":"static/js/6.68f5bf55.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const StHomeParticipantContainer = styled.article`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const StHomeParticipants = styled.div`\n  width: 100%;\n  padding: 10px 0;\n  min-height: 550px;\n`;\n\nexport const StHomeParticipant = styled.div`\n  width: 100%;\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  justify-content: space-between;\n  transition: all 0.3s ease;\n  border-radius: 35px;\n  box-shadow: 0 5px 15px #dde0e5aa;\n\n  & img {\n    width: 45px;\n    height: 45px;\n    margin-right: 10px;\n    border-radius: 50%;\n    border: 2px solid #fff;\n  }\n  & p {\n    flex: 2;\n  }\n  & span {\n    font-size: 0.8rem;\n  }\n  :hover {\n    background-color: #fff;\n    box-shadow: 0 5px 20px #cccfd4fa;\n    cursor: pointer;\n  }\n`;\n\nexport const StHomeParticipantGroupTitle = styled.div`\n  width: 100%;\n  min-height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.9rem;\n  background-color: white;\n  border: 2px solid #dfdfdf;\n  border-radius: 0 0 20px 20px;\n`;\n\nexport const StHomeParticipantUserProfile = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  & img {\n    width: 100px;\n    height: 100px;\n    border-radius: 50%;\n  }\n`;\n\nexport const StHomeParticipantUserProfileHead = styled.header`\n  width: 100%;\n  min-height: 60px;\n  padding: 0 10px;\n  padding-right: 40px;\n  margin-bottom: 15px;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  background-color: #d5e6e880;\n  justify-content: space-between;\n  & span {\n    flex: 2;\n    text-align: center;\n  }\n  & button {\n    width: 30px;\n    height: 25px;\n    line-height: 10px;\n    border-radius: 5px;\n    cursor: pointer;\n    color: seagreen;\n    background-color: #cfdfdf;\n  }\n`;\n\nexport const StHomeParticipantUserProfileName = styled.div`\n  margin-top: 10px;\n  text-align: center;\n  & p {\n    margin: 5px 0;\n    color: #a0a0a0;\n    font-size: 0.8rem;\n  }\n`;\n\nexport const StHomeParticipantUserInfo = styled.ul`\n  width: 100%;\n  min-height: 200px;\n  margin-top: 30px;\n  border-radius: 5px;\n  overflow: hidden;\n  background-color: #d5e6e880;\n`;\n\nexport const StHomeParticipantUserInfoItem = styled.li`\n  width: 100%;\n  min-height: 50px;\n  padding: 20px 10px;\n  border-bottom: 1px solid #89c4b2;\n  & h5 {\n    margin-bottom: 10px;\n    color: seagreen;\n  }\n  & p {\n    font-size: 0.8rem;\n  }\n  :last-child {\n    border-bottom: none;\n  }\n`;\n","import { useEffect, useState } from \"react\";\nimport { MdOutlineChevronLeft } from \"react-icons/md\";\nimport { users } from \"../../../../../data/data\";\nimport {\n  StHomeParticipant,\n  StHomeParticipantContainer,\n  StHomeParticipantGroupTitle,\n  StHomeParticipants,\n  StHomeParticipantUserInfo,\n  StHomeParticipantUserInfoItem,\n  StHomeParticipantUserProfile,\n  StHomeParticipantUserProfileHead,\n  StHomeParticipantUserProfileName,\n} from \"./style\";\n\nconst Participants = ({ id }) => {\n  const [userProfile, setUserProfile] = useState();\n  useEffect(() => {\n    const user = users.find((item) => item.userId === id);\n    setUserProfile(user);\n  }, [id]);\n  const selectUserHelper = (id) => () => {\n    if (id) {\n      const user = users.find((item) => item.userId === id);\n      setUserProfile(user);\n    } else {\n      setUserProfile(null);\n    }\n  };\n  return (\n    <StHomeParticipantContainer>\n      <StHomeParticipants>\n        {userProfile ? (\n          <StHomeParticipantUserProfile>\n            <StHomeParticipantUserProfileHead>\n              <button onClick={selectUserHelper()}>\n                <MdOutlineChevronLeft />\n              </button>\n              <span>Info</span>\n            </StHomeParticipantUserProfileHead>\n            <img src={userProfile.userAvatar} alt={userProfile.userId} />\n            <StHomeParticipantUserProfileName>\n              <h4>{userProfile.userId}</h4>\n              <p>last seen recently</p>\n            </StHomeParticipantUserProfileName>\n            <StHomeParticipantUserInfo>\n              <StHomeParticipantUserInfoItem>\n                <h5>bio</h5>\n                <p>{userProfile.bio}</p>\n              </StHomeParticipantUserInfoItem>\n              <StHomeParticipantUserInfoItem>\n                <h5>userName</h5>\n                <p>{userProfile.userId}</p>\n              </StHomeParticipantUserInfoItem>\n              <StHomeParticipantUserInfoItem>\n                <h5>userName</h5>\n                <p>{userProfile.userEmail}</p>\n              </StHomeParticipantUserInfoItem>\n            </StHomeParticipantUserInfo>\n          </StHomeParticipantUserProfile>\n        ) : (\n          users.map(({ userId, userAvatar, isPublisher }) => (\n            <StHomeParticipant key={userId} onClick={selectUserHelper(userId)}>\n              <img src={userAvatar} alt=\"user-img\" />\n              <p>{userId}</p>\n              <span>{isPublisher ? \"Creator\" : null}</span>\n            </StHomeParticipant>\n          ))\n        )}\n      </StHomeParticipants>\n      <StHomeParticipantGroupTitle>\n        Title : Welcome to new member of group\n      </StHomeParticipantGroupTitle>\n    </StHomeParticipantContainer>\n  );\n};\n\nexport default Participants;\n","const getMassages = (store) => store.massages.massages;\nconst getIsTypingList = (store) => store.massages.isTypingList;\n\nconst selectors = {\n  getMassages,\n  getIsTypingList,\n};\n\nexport default selectors;\n","import { ActionTypes } from \"./types\";\n\nexport const sendMassage = (payload) => {\n  return {\n    type: ActionTypes.SEND_MSG,\n    payload,\n  };\n};\nexport const setIsTypingList = (payload) => {\n  return {\n    type: ActionTypes.SET_IS_TYPING,\n    payload,\n  };\n};\nexport const removeIsTypingList = (payload) => {\n  return {\n    type: ActionTypes.REMOVE_IS_TYPING,\n    payload,\n  };\n};\n","import styled, { keyframes } from \"styled-components\";\n\nconst isTyping = keyframes`\n0%{margin-bottom: -7px;background-color:#efefef;}\n50%{margin-bottom: 6px; background-color:#222;}\n100%{margin-bottom: -7px;background-color:#efefef;}\n`;\n\nexport const StHomeChatPart = styled.article`\n  width: 32%;\n  height: 100%;\n  padding: 15px;\n  background-color: #edf0f5;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: ${(props) =>\n    props.isMassage ? \"space-between\" : \"flex-start\"};\n`;\n\nexport const StHomeChatPartChats = styled.section`\n  width: 100%;\n  height: 64vh;\n  overflow: auto;\n  padding: 20px 10px;\n`;\nexport const StHomeChatPartUserName = styled.p`\n  font-size: 0.7rem;\n  position: absolute;\n  left: 0;\n  top: -20px;\n`;\n\nexport const StHomeChatPartMassage = styled.div`\n  width: 100%;\n  margin-top: ${(props) => (props.isUserBefore ? \"30px\" : \"10px\")};\n  font-size: 0.8rem;\n  display: flex;\n  align-items: center;\n  justify-content: ${(props) => (props.isUser ? \"flex-end\" : \"flex-start\")};\n  & img {\n    width: 35px;\n    height: 35px;\n    margin-right: 10px;\n    border-radius: 50%;\n    border: 2px solid #fff;\n    transition: all 0.2s ease;\n    cursor: pointer;\n    :hover {\n      border-radius: 0%;\n    }\n  }\n`;\n\nexport const StHomeChatPartMassageText = styled.div`\n  min-width: 100px;\n  max-width: 300px;\n  min-height: 50px;\n  padding: 10px;\n  border-radius: 10px;\n  position: relative;\n  background-color: ${(props) => (props.isUser ? \"#d1d3e2\" : \"#fff\")};\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  ::before {\n    content: \"\";\n    width: 10px;\n    height: 15px;\n    ${(props) => (props.isUser ? \"right: -5px;\" : \"left: -5px;\")}\n    bottom: 0;\n    position: absolute;\n    background-color: ${(props) => (props.isUser ? \"#d1d3e2\" : \"#fff\")};\n    clip-path: ${(props) =>\n      props.isUser\n        ? \"polygon(0 0, 0% 100%, 100% 100%)\"\n        : \"polygon(100% 0, 0% 100%, 100% 100%)\"};\n  }\n`;\n\nexport const StHomeChatPartHeader = styled.header`\n  width: 100%;\n  min-height: 80px;\n  padding: 10px 10px 10px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  & h4 {\n    font-weight: 400;\n  }\n  border-bottom: 2px solid #e3e3e3;\n`;\nexport const StHomeChatPartSwitch = styled.div`\n  display: flex;\n  justify-content: space-between;\n  & :nth-child(${(props) => props.isMassage}) {\n    color: seagreen;\n    background-color: #d5e6e8;\n  }\n  & button {\n    padding: 15px 20px;\n    border-radius: 15px;\n    color: #777d8b;\n    font-size: 0.8rem;\n    cursor: pointer;\n  }\n`;\n\nexport const StHomeChatPartSendMsg = styled.section`\n  width: 100%;\n  height: 110px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\nexport const StHomeChatPartSendMsgIsTyping = styled.div`\n  width: 100%;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  font-size: 0.6rem;\n`;\n\nexport const StHomeChatPartSendMsgIsTypingCircle = styled.div`\n  width: 30px;\n  height: 30px;\n  padding: 2px;\n  margin-right: 10px;\n  background-color: #fff;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  & span {\n    width: 3px;\n    height: 3px;\n    border-radius: 50%;\n    background-color: gray;\n    :nth-child(1) {\n      animation: ${isTyping} 0.7s linear infinite;\n    }\n    :nth-child(2) {\n      animation: ${isTyping} 0.7s 0.2s linear infinite;\n    }\n    :nth-child(3) {\n      animation: ${isTyping} 0.7s 0.4s linear infinite;\n    }\n  }\n`;\n\nexport const StHomeChatPartSendMsgInput = styled.div`\n  width: 100%;\n  height: 70px;\n  padding: 8px;\n  padding-left: 25px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: space-between;\n  background-color: #fff;\n  & span {\n    min-width: 55px;\n    min-height: 50px;\n    border-radius: 20px;\n    color: #fff;\n    background-color: #48a08a;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  & input {\n    width: 80%;\n  }\n`;\n","import React, { useEffect, useRef } from \"react\";\nimport { FaTelegramPlane } from \"react-icons/fa\";\nimport defaultUserImage from \"assets/avatars/default.jpeg\";\nimport { useState } from \"react\";\nimport { currentUserDetail } from \"data/data\";\nimport Participants from \"./Participants\";\nimport { useSelector } from \"react-redux\";\nimport selectors from \"redux/massages/selectors\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  removeIsTypingList,\n  sendMassage,\n  setIsTypingList,\n} from \"redux/massages/actions\";\n\nimport {\n  StHomeChatPart,\n  StHomeChatPartChats,\n  StHomeChatPartHeader,\n  StHomeChatPartMassage,\n  StHomeChatPartMassageText,\n  StHomeChatPartSendMsg,\n  StHomeChatPartSendMsgInput,\n  StHomeChatPartSendMsgIsTyping,\n  StHomeChatPartSendMsgIsTypingCircle,\n  StHomeChatPartSwitch,\n  StHomeChatPartUserName,\n} from \"./style\";\n\nconst ws = new WebSocket(\"ws://localhost:8002\");\n\nconst ChatPart = () => {\n  const massages = useSelector(selectors.getMassages);\n  const isTypingList = useSelector(selectors.getIsTypingList);\n  const [isMassage, setIsMassage] = useState(true);\n  const [userProfile, setUserProfile] = useState();\n  const massageRef = useRef();\n  const dispatch = useDispatch();\n  const lastMassageRef = useRef();\n\n  const sendMassageHandler = () => {\n    const massage = massageRef.current.value;\n\n    const newMassage = {\n      userAvatar: currentUserDetail.userAvatar,\n      userId: currentUserDetail.userId,\n      content: massage,\n      isCall: false,\n      id: Math.floor(Math.random() * 1000),\n    };\n    dispatch(sendMassage(newMassage));\n    ws.send(JSON.stringify({ massage: massage, id: currentUserDetail.userId }));\n    massageRef.current.value = \"\";\n  };\n\n  const watchProfileHandler = (id) => () => {\n    setIsMassage(false);\n    setUserProfile(id);\n  };\n\n  useEffect(() => {\n    lastMassageRef.current.scrollIntoView();\n  }, [massages]);\n\n  useEffect(() => {\n    const logMassage = ({ data }) => {\n      const myData = JSON.parse(data);\n      if (myData.id !== currentUserDetail.userId && myData.id) {\n        dispatch(\n          sendMassage({\n            userAvatar: defaultUserImage,\n            userId: \"Guest User\",\n            content: myData.massage,\n            isCall: false,\n            id: Math.floor(Math.random() * 1000),\n          })\n        );\n        console.log(\"render\");\n      }\n    };\n    ws.addEventListener(\"message\", logMassage);\n    return () => {\n      ws.removeEventListener(\"message\", logMassage);\n    };\n  }, [dispatch]);\n\n  return (\n    <StHomeChatPart isMassage={isMassage}>\n      <StHomeChatPartHeader>\n        <h4>Group Chat</h4>\n        <StHomeChatPartSwitch isMassage={isMassage ? \"1\" : \"2\"}>\n          <button onClick={() => setIsMassage(true)}>Massages</button>\n          <button\n            onClick={() => {\n              setIsMassage(false);\n              setUserProfile(\"\");\n            }}\n          >\n            Participant\n          </button>\n        </StHomeChatPartSwitch>\n      </StHomeChatPartHeader>\n      {isMassage ? (\n        <>\n          <StHomeChatPartChats>\n            {massages?.map(\n              ({ content, userAvatar, userId, id, isCall }, index) => {\n                const isUser = currentUserDetail.userId === userId;\n                const isUserBefore = userId !== massages[index - 1]?.userId;\n                const isLastOne = index === massages.length - 1;\n                return (\n                  <StHomeChatPartMassage\n                    key={id}\n                    isUser={isUser}\n                    isUserBefore={isUserBefore}\n                    ref={isLastOne ? lastMassageRef : null}\n                  >\n                    {!isUser && (\n                      <img\n                        src={userAvatar}\n                        alt={userId}\n                        onClick={watchProfileHandler(userId)}\n                      />\n                    )}\n\n                    <StHomeChatPartMassageText isUser={isUser}>\n                      <StHomeChatPartUserName\n                        onClick={watchProfileHandler(userId)}\n                      >\n                        {isUserBefore ? (isUser ? \"You\" : userId) : null}\n                      </StHomeChatPartUserName>\n                      <p>{content}</p>\n                    </StHomeChatPartMassageText>\n                  </StHomeChatPartMassage>\n                );\n              }\n            )}\n          </StHomeChatPartChats>\n          <StHomeChatPartSendMsg>\n            {isTypingList.length ? (\n              <StHomeChatPartSendMsgIsTyping>\n                <StHomeChatPartSendMsgIsTypingCircle>\n                  <span />\n                  <span />\n                  <span />\n                </StHomeChatPartSendMsgIsTypingCircle>\n                {isTypingList.map((item, index) => {\n                  const isCurrentUser = item === currentUserDetail.userId;\n                  if (\n                    isTypingList[index] !==\n                    isTypingList[isTypingList.length - 1]\n                  ) {\n                    return <p key={index}>{item}&nbsp;and&nbsp;</p>;\n                  } else {\n                    return (\n                      <p key={index}>\n                        {isCurrentUser ? \"you\" : item}&nbsp;\n                        {isTypingList.length > 1 ? \"are\" : \"is\"}\n                      </p>\n                    );\n                  }\n                })}\n                &nbsp;Typing\n              </StHomeChatPartSendMsgIsTyping>\n            ) : (\n              <StHomeChatPartSendMsgIsTyping />\n            )}\n            <StHomeChatPartSendMsgInput>\n              <input\n                placeholder=\"Write your massage\"\n                ref={massageRef}\n                onFocus={() =>\n                  dispatch(setIsTypingList(currentUserDetail.userId))\n                }\n                onBlur={() =>\n                  dispatch(removeIsTypingList(currentUserDetail.userId))\n                }\n              />\n              <span onClick={() => sendMassageHandler()}>\n                <FaTelegramPlane />\n              </span>\n            </StHomeChatPartSendMsgInput>\n          </StHomeChatPartSendMsg>\n        </>\n      ) : (\n        <Participants id={userProfile} />\n      )}\n    </StHomeChatPart>\n  );\n};\n\nexport default ChatPart;\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/img-7.9efe48a7.jpeg\";","import styled, { css, keyframes } from \"styled-components\";\nimport bgImage from \"./img-7.jpeg\";\n\nconst talkingAnimation = keyframes`\n0%{height:10px;}\n25%{height:20px;background-color:#48a08a50;}\n50%{height:40px; background-color:#48a08a;}\n75%{height:20px;background-color:#48a08a50;}\n100%{height:10px;}\n\n`;\n\nconst fullScreenMixin = css`\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  z-index: 3;\n`;\nconst normalScreenMixin = css`\n  width: 68%;\n  height: 100%;\n  padding: 15px;\n`;\n\nexport const StHomeVideoStream = styled.article`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  justify-content: space-between;\n  background-color: #fff;\n  ${(props) => (props.isFullScreenVid ? fullScreenMixin : normalScreenMixin)}\n`;\nexport const StHomeVideoStreamHeader = styled.header`\n  width: 100%;\n  min-height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  border-bottom: 1px solid #efefef;\n  & span {\n    width: 40px;\n    height: 40px;\n    padding: 10px;\n    margin-right: 20px;\n    color: #aaa;\n    background-color: #edf0f5;\n    border-radius: 10px;\n    line-height: 10px;\n  }\n`;\nexport const StHomeVideoStreamHeaderTeamIcon = styled.div`\n  padding: 5px;\n  margin-left: 20px;\n  border-radius: 10px;\n  font-size: 0.8rem;\n  color: #505a95;\n  line-height: 10px;\n  display: flex;\n  align-items: center;\n  background-color: #d1d3e1;\n  & svg {\n    font-size: 1rem;\n    margin-right: 5px;\n  }\n`;\n\nexport const StHomeVideoStreamInfoBar = styled.div`\n  width: 100%;\n  min-height: 60px;\n  font-size: 0.7rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  & svg {\n    width: 30px;\n    margin: 0 5px;\n  }\n  & .add-user-icon {\n    color: #48a08a;\n    margin-right: 10px;\n    & p {\n      margin: 0 5px;\n    }\n    & svg {\n      width: 30px;\n      height: 30px;\n      padding: 5px;\n      font-weight: bold;\n      color: #fff;\n      background-color: #48a08a;\n      border-radius: 12px;\n      margin-right: 10px;\n    }\n  }\n`;\nexport const StHomeVideoStreamInfoBarPart = styled.div`\n  min-width: 150px;\n  min-height: 50px;\n  margin-right: 15px;\n  display: flex;\n  align-items: center;\n  & svg {\n    font-size: 1.2rem;\n    color: #a0a0a0;\n  }\n  & span {\n    width: 30px;\n    height: 30px;\n    padding: 10px;\n    color: #22aa22;\n    border-radius: 10px;\n    background-color: #22aa2220;\n    line-height: 10px;\n    margin-left: 10px;\n    text-align: center;\n  }\n  .vid-absent-people {\n    & span {\n      background-color: #fb606020;\n      color: #fb6060;\n    }\n  }\n`;\n\nexport const StHomeVideoStreamVideo = styled.section`\n  width: 100%;\n  min-height: ${(props) => (props.isFullScreenVid ? \"700px\" : \"510px\")};\n  border-radius: 15px;\n  position: ${(props) => (props.isFullScreenVid ? \"static\" : \"relative\")};\n  overflow: hidden;\n  background-image: ${(props) =>\n    props.isFullScreenVid ? null : `url(${bgImage})`};\n  background-size: cover;\n`;\n\nexport const StHomeVideoStreamStream = styled.video`\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  object-fit: cover;\n`;\n\nexport const StHomeVideoPartsHead = styled.div`\n  min-width: 450px;\n  min-height: 50px;\n  top: 20px;\n  left: 20px;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 2;\n`;\n\nexport const StHomeVideoPartsPublisher = styled.div`\n  width: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 2;\n  & img {\n    width: 45px;\n    height: 45px;\n    border-radius: 10px;\n  }\n  & span {\n    margin-left: 10px;\n    color: #fff;\n  }\n`;\n\nexport const StHomeVideoPartsRecord = styled.div`\n  width: 100px;\n  min-height: 40px;\n  padding: 5px 10px;\n  background-color: #ffffff40;\n  backdrop-filter: blur(10px);\n  border-radius: 10px;\n  font-size: 0.7rem;\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-25%);\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  z-index: 2;\n  & span {\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    border: 3px solid #fff;\n    background-color: red;\n  }\n`;\n\nexport const StHomeVideoPartsUsersIn = styled.div`\n  width: ${(props) => (props.isFullScreenVid ? \"110px\" : \"75px\")};\n  max-height: 500px;\n  top: 20px;\n  right: 25px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  & img {\n    width: 100%;\n    height: ${(props) => (props.isFullScreenVid ? \"110px\" : \"75px\")};\n    margin-bottom: 10px;\n    border-radius: 20px;\n    border: 3px solid #fff;\n  }\n`;\n\nexport const StHomeVideoPartsControls = styled.div`\n  width: 370px;\n  min-height: 60px;\n  position: absolute;\n  bottom: 30px;\n  left: 50%;\n  transform: translateX(-45%);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  & span {\n    color: #fff;\n    padding: 15px;\n    background-color: #ffffff40;\n    backdrop-filter: blur(10px);\n    border-radius: 50%;\n    line-height: 10px;\n    cursor: pointer;\n    :nth-child(3) {\n      padding: 25px;\n      font-size: 1.2rem;\n      border-radius: 30px;\n      background-color: #fb6060;\n    }\n  }\n`;\n\nexport const StHomeVideoPartsVolume = styled.div`\n  width: 50px;\n  height: 50px;\n  min-height: ${(props) => (props.isVolumeBarOpen ? \"210px\" : \"50px\")};\n  left: 30px;\n  bottom: 40px;\n  color: #fff;\n  padding: 15px;\n  overflow: hidden;\n  position: absolute;\n  border-radius: 30px;\n  background-color: #ffffff40;\n  backdrop-filter: blur(10px);\n  transition: all 0.15s ease;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: flex-end;\n  cursor: pointer;\n\n  & input {\n    margin-bottom: 80px;\n    transform: rotate(-90deg);\n    display: ${(props) => (props.isVolumeBarOpen ? \"block\" : \"none\")};\n  }\n`;\n\nexport const StHomeVideoStreamFooter = styled.footer`\n  width: 100%;\n  min-height: 65px;\n  padding-top: 15px;\n  font-size: 0.8rem;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n`;\n\nexport const StHomeVideoStreamFooterText = styled.div`\n  & h4 {\n    color: #b0b0b0;\n    margin: 5px 0;\n  }\n`;\n\nexport const StHomeVideoStreamFooterAnimation = styled.div`\n  width: 100px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & span {\n    width: 2px;\n    height: 40px;\n    margin: 0 2px;\n    background-color: #48a08a;\n    :nth-child(1) {\n      animation: ${talkingAnimation} 1.3s 0.5s linear infinite;\n    }\n    :nth-child(2) {\n      animation: ${talkingAnimation} 1.3s linear infinite;\n    }\n    :nth-child(3) {\n      animation: ${talkingAnimation} 1.3s 0.3s linear infinite;\n    }\n    :nth-child(4) {\n      animation: ${talkingAnimation} 1.3s 0.2s linear infinite;\n    }\n    :nth-child(5) {\n      animation: ${talkingAnimation} 1.3s 1s linear infinite;\n    }\n    :nth-child(6) {\n      animation: ${talkingAnimation} 1.3s 0.7s linear infinite;\n    }\n    :nth-child(7) {\n      animation: ${talkingAnimation} 1.3s linear infinite;\n    }\n    :nth-child(8) {\n      animation: ${talkingAnimation} 1.3s 0.1s linear infinite;\n    }\n    :nth-child(9) {\n      animation: ${talkingAnimation} 1.3s 0.3s linear infinite;\n    }\n    :nth-child(10) {\n      animation: ${talkingAnimation} 1.3s 0.15s linear infinite;\n    }\n  }\n  & h4 {\n  }\n`;\n","import { useEffect, useState } from \"react\";\nimport { StHomeVideoPartsRecord } from \"./style\";\n\nconst Timer = () => {\n  const [time, setTime] = useState({ min: 0, second: 0 });\n\n  useEffect(() => {\n    if (time.second >= 60) {\n      setTime({ ...time, min: time.min + 1, second: 0 });\n    } else {\n      setTimeout(() => {\n        setTime({ ...time, second: time.second + 1 });\n      }, 1000);\n    }\n  }, [time]);\n\n  return (\n    <StHomeVideoPartsRecord>\n      <span />\n      <p>\n        {time.min < 10 ? `0${time.min}` : `${time.min}`}&nbsp;:&nbsp;\n        {time.second < 10 ? `0${time.second}` : time.second}\n      </p>\n    </StHomeVideoPartsRecord>\n  );\n};\n\nexport default Timer;\n","import { useState } from \"react\";\nimport { GiSpeaker } from \"react-icons/gi\";\nimport { StHomeVideoPartsVolume } from \"./style\";\n\nconst Volume = ({ setVolume }) => {\n  const [isVolumeBarOpen, setIsVolumeBarOpen] = useState(false);\n\n  return (\n    <StHomeVideoPartsVolume\n      isVolumeBarOpen={isVolumeBarOpen}\n      onClick={() => setIsVolumeBarOpen(!isVolumeBarOpen)}\n    >\n      <input type=\"range\" onChange={setVolume} defaultValue=\"80\" />\n      <GiSpeaker />\n    </StHomeVideoPartsVolume>\n  );\n};\n\nexport default Volume;\n","import React from \"react\";\nimport { IoIosPeople } from \"react-icons/io\";\nimport {\n  MdBookmarkRemove,\n  MdCallEnd,\n  MdOutlineChevronLeft,\n} from \"react-icons/md\";\nimport { BsArrowsFullscreen, BsFillMicMuteFill } from \"react-icons/bs\";\nimport { GoGear, GoPlusSmall } from \"react-icons/go\";\nimport { FaVideo } from \"react-icons/fa\";\nimport { users } from \"../../../../data/data\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport Timer from \"./Timer\";\nimport Volume from \"./Volume\";\nimport {\n  StHomeVideoPartsControls,\n  StHomeVideoPartsHead,\n  StHomeVideoPartsPublisher,\n  StHomeVideoPartsUsersIn,\n  StHomeVideoStream,\n  StHomeVideoStreamFooter,\n  StHomeVideoStreamFooterAnimation,\n  StHomeVideoStreamFooterText,\n  StHomeVideoStreamHeader,\n  StHomeVideoStreamHeaderTeamIcon,\n  StHomeVideoStreamInfoBar,\n  StHomeVideoStreamInfoBarPart,\n  StHomeVideoStreamStream,\n  StHomeVideoStreamVideo,\n} from \"./style\";\n\nconst ws = new WebSocket(\"ws://localhost:8002\");\n\nconst VideoStream = () => {\n  const [isFullScreenVid, setIsFillScreenVid] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n\n  const publisher = users.find((item) => item.isPublisher);\n  const streamRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  const getVideo = () => {\n    navigator.mediaDevices\n      .getUserMedia({\n        video: { width: 2000, height: 2800 / (16 / 9) },\n        audio: true,\n      })\n      .then((stream) => {\n        let video = streamRef.current;\n        video.srcObject = stream;\n      })\n      .catch((err) => console.log(\"error massage :\", err));\n  };\n\n  const getFrame = () => {\n    const canvas = canvasRef.current;\n    const video = streamRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    canvas.getContext(\"2d\").drawImage(video, 0, 0);\n    const data = canvas.toDataURL(\"image/png\");\n    return data;\n  };\n\n  useEffect(() => {\n    getVideo();\n    streamRef.current.volume = 1;\n  }, [streamRef]);\n\n  useEffect(() => {\n    const FPS = 10;\n    ws.addEventListener(\"open\", () => {\n      console.log(`Connected to \"ws://localhost:8002\"`);\n      setInterval(() => {\n        ws.send(getFrame());\n      }, 1000 / FPS);\n    });\n  }, []);\n\n  const setVolume = (e) => {\n    streamRef.current.volume = e.target.value / 100;\n  };\n\n  return (\n    <StHomeVideoStream isFullScreenVid={isFullScreenVid}>\n      <StHomeVideoStreamHeader>\n        <span>\n          <MdOutlineChevronLeft />\n        </span>\n        OverView of new real estate proposals\n        <StHomeVideoStreamHeaderTeamIcon>\n          <IoIosPeople /> Team\n        </StHomeVideoStreamHeaderTeamIcon>\n      </StHomeVideoStreamHeader>\n      <StHomeVideoStreamInfoBar>\n        <StHomeVideoStreamInfoBarPart>\n          <StHomeVideoStreamInfoBarPart>\n            <IoIosPeople /> Invited to call : <span>6</span>\n          </StHomeVideoStreamInfoBarPart>\n          <StHomeVideoStreamInfoBarPart className=\"vid-absent-people\">\n            <MdBookmarkRemove /> Absent people : <span>5</span>\n          </StHomeVideoStreamInfoBarPart>\n        </StHomeVideoStreamInfoBarPart>\n        <StHomeVideoStreamInfoBarPart className=\"add-user-icon\">\n          <GoPlusSmall /> <p>Add user to the call</p>\n        </StHomeVideoStreamInfoBarPart>\n      </StHomeVideoStreamInfoBar>\n\n      <StHomeVideoStreamVideo isFullScreenVid={isFullScreenVid}>\n        {/* stream start */}\n        <StHomeVideoStreamStream\n          autoPlay\n          loop\n          ref={streamRef}\n        ></StHomeVideoStreamStream>\n        {/* stream end */}\n\n        <StHomeVideoPartsHead>\n          <StHomeVideoPartsPublisher>\n            <img src={publisher.userAvatar} alt={publisher.userId} />\n            <span>\n              <h6>publisher</h6>\n              <p>{publisher.userId}</p>\n            </span>\n          </StHomeVideoPartsPublisher>\n        </StHomeVideoPartsHead>\n\n        {isRecording ? <Timer /> : null}\n\n        <StHomeVideoPartsUsersIn isFullScreenVid={isFullScreenVid}>\n          {users.map(({ userAvatar, userId }) => (\n            <img src={userAvatar} alt={userId} key={userId} />\n          ))}\n        </StHomeVideoPartsUsersIn>\n        <StHomeVideoPartsControls>\n          <span onClick={() => setIsFillScreenVid(!isFullScreenVid)}>\n            <BsArrowsFullscreen />\n          </span>\n          <span>\n            <BsFillMicMuteFill />\n          </span>\n          <span>\n            <MdCallEnd />\n          </span>\n          <span onClick={() => setIsRecording(!isRecording)}>\n            <FaVideo />\n          </span>\n          <span>\n            <GoGear />\n          </span>\n        </StHomeVideoPartsControls>\n        <Volume setVolume={setVolume} />\n      </StHomeVideoStreamVideo>\n      <StHomeVideoStreamFooter>\n        <StHomeVideoStreamFooterAnimation>\n          {new Array(10).fill().map((_, index) => (\n            <span key={index} />\n          ))}\n        </StHomeVideoStreamFooterAnimation>\n        <StHomeVideoStreamFooterText>\n          <h4>Title</h4>\n          <p>\n            Thanks for sending all those complement transcripts through - we've\n            been really happy\n          </p>\n        </StHomeVideoStreamFooterText>\n      </StHomeVideoStreamFooter>\n      <canvas ref={canvasRef} hidden />\n    </StHomeVideoStream>\n  );\n};\n\nexport default VideoStream;\n","import styled from \"styled-components\";\n\nexport const StHomeContainer = styled.article`\n  width: 100%;\n  min-height: 95vh;\n  padding: 15px;\n  border-left: 2px solid #f0f0f0;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport ChatPart from \"./components/ChatPart\";\nimport VideoStream from \"./components/VideoStream\";\nimport { StHomeContainer } from \"./style\";\n\nconst Home = () => {\n  const token = localStorage.getItem(\"user\");\n  const [loggedIn, setLoggedIn] = useState(token);\n  useEffect(() => {\n    if (token) {\n      setLoggedIn(true);\n    }\n  }, [token]);\n  return loggedIn ? (\n    <StHomeContainer>\n      <VideoStream />\n      <ChatPart />\n    </StHomeContainer>\n  ) : (\n    <Navigate replace to=\"/login\" />\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}